<?xml version="1.0" encoding="UTF-8"?>
<plugin
    xmlns="http://apache.org/cordova/ns/plugins/1.0"
    xmlns:android="http://schemas.android.com/apk/res/android"
    id="nl.creativeskills.cordovaPlugins.MuPDFViewer"
    version="0.0.5">

    <name>PDFReader</name>
	<!-- <description>Cordova PDF reader for IOS (based on Reader https://github.com/KiranPanesar/Reader)</description> -->
    <engines>
        <engine name="cordova" version=">=3.0.0" />
    </engines>
	
	<license>MIT</license>
    <keywords>reader,pdf,android</keywords>
    <!-- <repo>https://github.com/etabard/Cordova-PDFReader-IOS</repo>
    <issue>https://github.com/etabard/Cordova-PDFReader-IOS/issues</issue>
 -->
    <!-- android -->
    <platform name="android">

        <js-module src="www/MuPDFViewer.js" name="MuPDFViewer">
            <clobbers target="MuPDFViewer" />
        </js-module>
                    
        <!-- Cordova 2.5+ -->
        <config-file target="config.xml" parent="/*">
            <feature name="MuPDFViewer">
                <param name="android-package" value="nl.creativeskills.cordovaPlugins.MuPDFViewer"/>
            </feature>
        </config-file> 

        <config-file target="AndroidManifest.xml" parent="/manifest/application">
             <activity
             android:name="nl.creativeskills.mupdf.MuPDFActivity"
             android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
             android:label="@string/app_name">
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <data android:mimeType="application/vnd.ms-xpsdocument"/>
             </intent-filter>
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <data android:mimeType="application/pdf"/>
             </intent-filter>
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <data android:mimeType="application/x-cbz"/>
             </intent-filter>
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <category android:name="android.intent.category.BROWSABLE"/>
                 <data android:scheme="file"/>
                 <data android:mimeType="*/*"/>
                 <data android:pathPattern=".*\\.xps"/>
                 <data android:host="*"/>
             </intent-filter>
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <category android:name="android.intent.category.BROWSABLE"/>
                 <data android:scheme="file"/>
                 <data android:mimeType="*/*"/>
                 <data android:pathPattern=".*\\.pdf"/>
                 <data android:host="*"/>
             </intent-filter>
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
                 <category android:name="android.intent.category.BROWSABLE"/>
                 <data android:scheme="file"/>
                 <data android:mimeType="*/*"/>
                 <data android:pathPattern=".*\\.cbz"/>
                 <data android:host="*"/>
             </intent-filter>
         </activity>
        </config-file>

        <config-file target="AndroidManifest.xml" parent="/manifest">
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
        </config-file>

        <config-file target="res/values/strings.xml" parent="/resources">
            <string name="version">1</string>
            <string name="no_media_warning">Storage Media not present</string>
            <string name="no_media_hint">Sharing the storage media with a PC can make it inaccessible</string>
            <string name="open_failed">Unable to open document</string>
            <string name="content_failure">%1$s: %2$s</string>
            <string name="cancel">Cancel</string>
            <string name="search_backwards">Search backwards</string>
            <string name="search_forwards">Search forwards</string>
            <string name="search_document">Search document</string>
            <string name="picker_title">%1$s %2$s: %3$s</string>
            <string name="outline_title">Table of Contents</string>
            <string name="enter_password">Enter Password</string>
            <string name="text_not_found">Text not found</string>
            <string name="searching_">Searching...</string>
            <string name="link_control">Link highlighting and enabling</string>
            <string name="no_further_occurences_found">No further occurences found</string>
            <string name="select">Select</string>
            <string name="search">Search</string>
            <string name="copy">Copy</string>
            <string name="strike_out">Strike out</string>
            <string name="button_close">Close</string>
        </config-file> 

        <config-file target="res/values/colors.xml" parent="/resources">
            <color name="canvas">#404040</color>
            <color name="toolbar">#C0000000</color>
            <color name="page_indicator">#C0202020</color>
            <color name="busy_indicator">#C0202020</color>
            <color name="button_normal">#00000000</color>
            <color name="button_pressed">#FF2572AC</color>
            <color name="text_normal">#FFFFFF</color>
            <color name="text_pressed">#FFFFFF</color>
            <color name="text_border_normal">#000000</color>
            <color name="text_border_pressed">#2572AC</color>
            <color name="text_border_focused">#000000</color>
            <color name="seek_thumb">#2572AC</color>
            <color name="seek_progress">#FFFFFF</color>
        </config-file> 


        
        <source-file src="src/android/nl/creativeskills/cordovaPlugins/MuPDFViewer.java"  target-dir="src/nl/creativeskills/cordovaPlugins"/>

        <!-- <lib-file src="src/android/libs/mupdf.jar" arch="device" /> -->

        <!-- jni -->
        <resource-file src="src/android/libs" target="libs" />

        <!-- layouts -->
        <resource-file src="src/android/res/layout/buttons.xml" target="res/layout/buttons.xml" />
        <resource-file src="src/android/res/layout/textentry.xml" target="res/layout/textentry.xml" />
        
        <!-- Values --> 
        <resource-file src="src/android/res/animator/info.xml" target="res/animator/info.xml" />
        <resource-file src="src/android/res/drawable/page_num.xml" target="res/drawable/page_num.xml" />
        <resource-file src="src/android/res/drawable/tiled_background.xml" target="res/drawable/tiled_background.xml" />
        <resource-file src="src/android/res/drawable/darkdenim3.png" target="res/drawable/darkdenim3.png" />
        <resource-file src="src/android/res/drawable/busy.xml" target="res/drawable/busy.xml" />
        <!-- <resource-file src="src/android/res/values/strings.xml" target="res/values/strings.xml" /> -->
        <!-- <resource-file src="src/android/res/values/colors.xml" target="res/values/colors.xml" /> -->



    </platform>
</plugin>